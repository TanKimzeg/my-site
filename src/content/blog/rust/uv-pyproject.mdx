---
title: Pythoné¡¹ç›®ç»“æ„ä¸ç®¡ç† | Python
description: å­¦ä¹ ä¸€ä¸‹Pythoné¡¹ç›®ç»“æ„,ä»¥åŠå¦‚ä½•ä½¿ç”¨uvç®¡ç†Pythoné¡¹ç›®.
pubDate: 2025-07-28
categories:
  - tech
tags:
  - software
---

éšç€æˆ‘å†™çš„é¡¹ç›®è¶Šæ¥è¶Šå¤š,æˆ‘è¶ŠåŠ æ„Ÿå—åˆ°ä¸€ç§ç»„ç»‡é¡¹ç›®ç»“æ„çš„"å¼ºè¿«ç—‡".é¡¹ç›®çš„ç›®å½•åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­,æ‰èƒ½æ–¹ä¾¿è°ƒç”¨å’Œç»´æŠ¤?è¿™å…¶å®æ˜¯è½¯ä»¶å·¥ç¨‹ç ”ç©¶çš„é¢†åŸŸ.ç”±äºæˆ‘ä»æœªç³»ç»Ÿå­¦ä¹ è¿‡è½¯ä»¶å·¥ç¨‹,ä»¥å‰çš„æˆ‘åå¤ç¢ç£¨,æ€»æ„Ÿè§‰ä¸æ˜¯æœ€ä½³å®è·µ,æµ‘èº«éš¾å—!

ä½†æ˜¯ç°åœ¨,æˆ‘å®£å¸ƒæˆ‘å·²ç»æ‚Ÿäº†!

## ä»è„šæœ¬åˆ°æ¨¡å—ï¼Œä»æ··ä¹±åˆ°æ•´æ´
æ¢¦å¼€å§‹ä¹‹å‰,åŠŸèƒ½éœ€æ±‚å°,åŠ ä¸ŠPythonè¯­è¨€çš„æè‡´èƒ¶æ°´æ„ŸğŸ¤­,åœ¨ä¸€ä¸ªpyæ–‡ä»¶é‡Œå†™ä¸€äº›ç±»å°±è¶³å¤Ÿäº†.æˆ–è€…é¡¶å¤šå°±åƒè¿™æ ·
```
my_project/
â”œâ”€â”€ main.py
â”œâ”€â”€ helper.py
â”œâ”€â”€ test_data.csv
â”œâ”€â”€ output.txt
```

åæ¥ä¸çŸ¥é“ä»å“ªé‡Œçœ‹åˆ°äº†æœ‰äººç”¨ `__init__.py` æ–‡ä»¶,ä¸€ç•ªäº†è§£ä¹‹å,éå¸¸å…´å¥‹,è¿™ç®€ç›´å®Œç¾é€‚ç”¨äºæˆ‘æ—¥ç›Šå¢é•¿çš„éœ€æ±‚!é©¬ä¸Šå°±å¼€å§‹å®æˆ˜äº†.è¿™æœŸé—´ä¸æ— æ•° `ModuleNotFound`é”™è¯¯æ–—æ™ºæ–—å‹‡,åˆè¢«Cè¯­è¨€é‡Œé¢çš„å¾ªç¯å¯¼å…¥ç»•æ™•,æ€»ç®—æ˜¯æœ‰äº†ä¸€ç‚¹åŸºæœ¬çš„é¡¹ç›®ç»“æ„æ„è¯†.ç„¶åå°±å˜æˆè¿™ä¸ªæ ·å­:
```
my_project/
â”œâ”€â”€ .venv/
â”œâ”€â”€ module1/
|	â”œâ”€â”€ __init__.py
|	â”œâ”€â”€ main.py
|	â”œâ”€â”€ utils.py
|	â”œâ”€â”€ logger.py
â”œâ”€â”€ module2/
|	â”œâ”€â”€ __init__.py
|	â”œâ”€â”€ main.py
|	â”œâ”€â”€ utils.py
â”œâ”€â”€ main.py
â”œâ”€â”€ logs/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
```
æˆ‘é•¿æœŸä¿æŒç€è¿™ç§é£æ ¼,é€šè¿‡ `pip freeze > ./requirements.txt`æ¥ç”Ÿæˆä¾èµ–.ä¸æ¶‰åŠæ‰“åŒ…çš„è¯,è¿™æ ·å…¶å®ä¹Ÿè¿‡å¾—å»,é‚£äº›ææ·±åº¦å­¦ä¹ çš„é¡¹ç›®å°±é•¿è¿™æ ·.æˆ‘ä¹Ÿä¸€ç›´è§‰å¾—è½»æ¾å¯æ¥å—.

ç›´åˆ°æœ€è¿‘æˆ‘å­¦äº†Rust,å‘ç°Cargoç«Ÿæœ‰å¦‚æ­¤å¼ºå¤§çš„åŠŸèƒ½,æµ‹è¯•åŠŸèƒ½ä¹Ÿçˆ½å¾—ä¸å¾—äº†,"åº“"å’Œ"åŒ…"çš„åŒºåˆ«ä¹Ÿå¼•å‘æˆ‘çš„æ€è€ƒ.

å¤§æ¦‚æ˜¯å¹´åˆçš„æ—¶å€™æˆ‘å¬è¯´äº†uv,å½“æ—¶å¯¹é¡¹ç›®äº†æ€è€ƒè¿˜ä¸å¤Ÿ,æ‰€ä»¥è§‰å¾—å®ƒè·Ÿcondaåº”è¯¥å·®ä¸å¤šå§.æ—¢ç„¶æˆ‘æœ‰condaäº†æ²¡æœ‰å¿…è¦å†è£…ä¸€ä¸ªå§,condaå·²ç»ç›¸å½“è‡ƒè‚¿äº†.æœ€è¿‘çœ‹åˆ°å‡ ä¸ªè§†é¢‘,æˆ‘è®¤çœŸçœ‹äº†,æ‰äº†è§£åˆ°pipç”Ÿæˆrequirements.txtçš„ç¼ºç‚¹ä»¥åŠuvèƒ½åšçš„äº‹æƒ…:è·ŸCargoå·®ä¸å¤š,æ˜¯"é¡¹ç›®ç®¡ç†å™¨"è€Œä¸åªæ˜¯"åŒ…ç®¡ç†å™¨"!

[ä»pipåˆ°uvï¼šä¸€å£æ°”æ¢³ç†ç°ä»£Pythoné¡¹ç›®ç®¡ç†å…¨æµç¨‹ï¼](https://www.bilibili.com/video/BV13WGHz8EEz)

[build + hatchling 15åˆ†é’Ÿææ‡‚Pythoné¡¹ç›®ç»“æ„å’Œæ‰“åŒ…](https://www.bilibili.com/video/BV12NgLzhEKx)

**æ‚Ÿå·²å¾€ä¹‹ä¸è°,çŸ¥æ¥è€…ä¹‹å¯è¿½!**

# uvä½¿ç”¨
æŠ€æœ¯ä»¥æˆ‘ä»¬éš¾ä»¥è¿½èµ¶çš„é€Ÿåº¦æ›´æ–°è¿­ä»£,çƒ­æƒ…æ‹¥æŠ±æ–°æŠ€æœ¯,æ˜¯åƒæˆ‘è¿™æ ·çš„ç¼–ç¨‹çˆ±å¥½è€…å¿…é¡»çš„å“è´¨!
äº‹ä¸å®œè¿Ÿ,é©¬ä¸Šå…¥æ‰‹!

[uv - ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„æé€Ÿ Python åŒ…å’Œé¡¹ç›®ç®¡ç†å·¥å…·ã€‚](https://uv.doczh.com/)

æœ€è¿‘vscodeçš„ms-pythonæ’ä»¶æŠ½é£äº†,å¯¼è‡´æˆ‘çš„è™šæ‹Ÿç¯å¢ƒå’Œtasksä»»åŠ¡ä¹Ÿå‡ºé—®é¢˜.ä¸€çœ‹Githubä¸Šé¢ä¸€å †issue,ç»´æŠ¤è€…å‘Šè¯‰æˆ‘ä»¬æš‚æ—¶ä¸‹è½½ä¸€ä¸ªpython envæ’ä»¶æ¥è§£å†³.ä¸ºäº†ä½“éªŒuv,æˆ‘å¹²è„†åˆ æ‰äº†åŸæ¥ç”¨ `python -m venv .env`åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ,é‡æ„ç›®å½•ç»“æ„.

ä¸ºäº†é‡‡ç”¨æ–°å¼é¡¹ç›®ç®¡ç†,é¦–å…ˆè¿è¡Œ:
```shell
uv init
```
ä¼šè‡ªåŠ¨ç”Ÿæˆpyproject.toml

ç„¶åçœ‹çœ‹pylaceæŠ¥äº†å“ªäº›æ¨¡å—ç¼ºå¤±é”™è¯¯,é€ä¸ªè¿è¡Œ
```shell
uv add package
```
æ¥å®‰è£….è¿™äº›ä¾èµ–è¢«è‡ªåŠ¨æ·»åŠ åˆ°äº†pyproject.tomlé‡Œé¢,è·ŸCargo add ,npm installæ˜¯ä¸€æ ·çš„.

## src layoutå¸ƒå±€ä¸æ‰“åŒ…

src layoutå¸ƒå±€:
```
sampleproject
â”œâ”€â”€ scripts/
â”œâ”€â”€ src/
|    â””â”€â”€ package_name/
|         â”œâ”€â”€ __init__.py 
|		  â””â”€â”€ utils.py
â”œâ”€â”€ pyproject.toml 
â””â”€â”€ tests/
```
è¿™æ˜¯è¶Šæ¥è¶Šå¤šæ–°é¡¹ç›®çš„é¡¹ç›®å¸ƒå±€,å…¶ä¸­srcé‡Œé¢æ˜¯æ‰“åŒ…çš„å¯¹è±¡.

æˆ‘æŠŠé¡¹ç›®è°ƒæ•´ä¸ºè¿™æ ·ä¹‹å,åœ¨pyproject.tomlé‡Œé¢æ·»åŠ hatchlingä½œä¸ºæ‰“åŒ…å·¥å…·(é»˜è®¤ä¸ºsetuptool)çš„é…ç½®å,è¿è¡Œ
```shell
uv pip install -e .
```
æŠŠæˆ‘ä»¬å¼€å‘çš„åŒ…æœ¬èº«å®‰è£…åˆ°è™šæ‹Ÿç¯å¢ƒä¸­

ç”Ÿæˆå‹ç¼©æ–‡ä»¶å’Œwheel:
```shell
uv build
```
![build](attachments/uv-pyproject_build.png)
è¿™äº›wheelæ˜¯å¯ä»¥é€šè¿‡pipæ¥å®‰è£…çš„:
```shell
uv pip install dist/package_name.whl
```

## uvæ¢æº
ä¸æ˜¯è¯´uvå¾ˆå¿«å—?æ€ä¹ˆä¸‹è½½é€Ÿåº¦æ¯”pip installè¿˜æ…¢?ç”šè‡³Timeout?å…¶å®ä»–ä»¬ç”¨çš„æ˜¯åŒä¸€ä¸ªæº,éƒ½æ¥è‡ªpypi,è·Ÿcondaæœ‰è‡ªå·±çš„æºæ˜¯ä¸ä¸€æ ·çš„.

æ¢æºçš„æ­¥éª¤æ˜¯è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡:

```
UV_DEFAULT_INDEX=https://pypi.mirrors.ustc.edu.cn/simple/
```
> è¯è¯´æ¸…åæºæ˜¯ä¸æ˜¯ä¸å¥½ç”¨äº†,æ¢æˆæ¸…åæºçš„è¯ä¼šå‡ºç°403;ä¹‹å‰æArch mirror_list æ¸…åæºå¥½åƒä¹Ÿæœ‰é—®é¢˜,æ¨èç§‘å¤§æºå§

## ä¸€ä¸ªç®€å•çš„å‰åç«¯é¡¹ç›®
æœ€è¿‘åœ¨å†™ä¸€ä¸ª[è®ºæ–‡æ ¼å¼æ£€æµ‹](https://github.com/TanKimzeg/PP4mat)é¡¹ç›®.å°é¡¹ç›®æ²¡æœ‰å†å²åŒ…è¢±,æˆ‘å°†å…¶æŒ‰ä»¥ä¸Šæ–¹å¼é‡æ„,æ£€æµ‹éƒ¨åˆ†æ˜¯å¯å¤ç”¨çš„é€»è¾‘,æ‰€ä»¥æˆ‘æŠŠå®ƒæ”¾åœ¨src/pp4maté‡Œé¢,èƒ½è¢«æ‰“åŒ….åœ¨Copilotçš„å¸®åŠ©ä¸‹å¢åŠ äº†å‰åç«¯.åç«¯åœ¨ `app` é‡Œé¢,ç”¨fastapiå¤„ç†è¯·æ±‚.å‰ç«¯åœ¨ `frontend` é‡Œé¢,ä¸»è¦æ˜¯ä¸€ä¸ªç½‘é¡µå’ŒJS. æ²¡æƒ³åˆ°æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½æå…¨æ ˆå¼€å‘äº†haha,å¤©æ‰å¦‚æˆ‘ğŸ˜†.

```
pp4mat_detection
â”œâ”€â”€ app/
|   â”œâ”€â”€ api/
|   â”œâ”€â”€ services/
|   â”œâ”€â”€ __init__.py
|   â””â”€â”€ main.py 
â”œâ”€â”€ src/
|    â””â”€â”€ pp4mat/
|         â”œâ”€â”€ __init__.py 
|		  â”œâ”€â”€ main.py
|         â”œâ”€â”€ check_format/
|         â””â”€â”€ config_convert/
â”œâ”€â”€ frontend/
|    â”œâ”€â”€ node_modules
|    â””â”€â”€ index.html
â”œâ”€â”€ configs
|    â””â”€â”€ rules.yaml
â”œâ”€â”€ pyproject.toml 
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ tests/
```
![frontend](./attachments/uv-pyproject_frontend.png)
å‰åç«¯é€»è¾‘æ¯”è¾ƒç®€å•,æ‰€ä»¥æŠŠCopilotæä¾›çš„ä»£ç ä¿®ä¿®å°±è¡Œ.ç›®å‰å‰ç«¯çœ‹èµ·æ¥è¿˜æ¯”è¾ƒç®€é™‹,åé¢ä¼šåšç¾åŒ–!

import RepositoryCard from "@/components/mdx/RepositoryCard.astro";

<RepositoryCard repo="TanKimzeg/PP4mat" />